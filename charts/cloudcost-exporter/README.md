# cloudcost-exporter

Cloud Cost Exporter exports cloud provider agnostic cost metrics to Prometheus.

![Version: 1.0.4](https://img.shields.io/badge/Version-1.0.4-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 0.8.1](https://img.shields.io/badge/AppVersion-0.8.1-informational?style=flat-square)

## Installing the Chart

To install the chart with the release name `my-release`:

```console
helm repo add grafana https://grafana.github.io/helm-charts
helm repo update
helm install my-release grafana/cloudcost-exporter
```

## Configuration per cloud service provider (CSP)

The Helm chart can be used with the general `values.yaml` manifest.
The project includes CSP-specific configuration (e.g. `values.<csp>.yaml`) that can be used in combination with the general values.
The deployment itself will depend on each deployment pipeline and tooling available.

Documentation per CSP will vary (especially when it comes to authentication). Below are links to docs to help with this:
* [AWS](https://github.com/grafana/cloudcost-exporter/tree/main/docs/deploying/aws)

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| affinity | object | `{}` | Node/pod affinities |
| containerArgs | list | `[]` | Container arguments, usually to configure the deployment per CSP |
| fullnameOverride | string | `""` | Override the full name of the chart and release |
| image.pullPolicy | string | `"IfNotPresent"` | Pull policy for the image |
| image.repository | string | `"grafana/cloudcost-exporter"` | Image to use for deploying |
| image.tag | string | `""` | Overrides the image tag whose default is the chart appVersion. |
| imagePullSecrets | list | `[]` | Secrets to use for pulling the image |
| minReadySeconds | int | `10` | Seconds a pod should be ready to be considered available |
| nameOverride | string | `""` | Override the name of the release |
| nodeSelector | object | `{}` | Node selector |
| podAnnotations | object | `{}` | Annotations to add to the pod |
| portName | string | `"http"` | Container port name |
| replicaCount | int | `1` | Number of replicas |
| resources.limits.cpu | string | `"2"` | CPU limit |
| resources.limits.memory | string | `"2Gi"` | Memory limit |
| resources.requests.cpu | string | `"1"` | CPU request |
| resources.requests.memory | string | `"1Gi"` | Memory request |
| revisionHistoryLimit | int | `10` | Number of old versions to retain to allow rollback |
| securityContext.fsGroup | int | `10001` | Filesystem group to associate for each pod |
| service.port | int | `8080` | Service port |
| service.protocol | string | `"TCP"` | Service protocol |
| service.type | string | `"ClusterIP"` | Service type |
| serviceAccount.annotations | object | `{}` | Annotations to add to the service account |
| serviceAccount.create | bool | `true` | Specifies whether a service account should be created |
| serviceAccount.name | string | `""` | The name of the service account to use. If not set and create is true, a name is generated using the fullname template |
| tolerations | list | `[]` | List of node taints to tolerate |
| volumeMounts | list | `[]` | List of volume mounts |
| volumes | list | `[]` | List of volumes |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.8.1](https://github.com/norwoodj/helm-docs/releases/v1.8.1)

## Contribute

Check out the [docs](https://github.com/grafana/cloudcost-exporter/tree/main//docs/contribute/releases.md#helm-chart)
for more information on how to contribute to the `cloudcost-explorer`'s Helm chart.
